{% with button_variant=variant|default:"list" %}
{% if button_variant == 'detail' %}
<button 
    class="flex items-center space-x-2 hover:text-brand-600 dark:hover:text-brand-400 transition-colors group"
    hx-post="{% url 'animals:toggle_favorite' animal.slug %}" 
    hx-swap="outerHTML"
    hx-vals='{"variant": "detail"}'
>
    {% if is_favorited %}
    <svg class="w-5 h-5 text-red-500 fill-current transform scale-110 transition-transform duration-300" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd" />
    </svg>
    <span class="text-red-500 font-medium">Saved to Favorites</span>
    {% else %}
    <svg class="w-5 h-5 text-gray-400 group-hover:text-red-500 transition-colors duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
    </svg>
    <span>Save to Favorites</span>
    {% endif %}
</button>
{% else %}
<button 
    id="fav-btn-{{ animal.id }}-{% if from_my_pets %}mypets{% else %}list{% endif %}"
    class="absolute top-3 right-3 p-2 rounded-full bg-white/80 backdrop-blur-sm hover:bg-white transition-all duration-300 group z-10"
    hx-post="{% url 'animals:toggle_favorite' animal.slug %}?{% if from_profile %}from_profile=1{% endif %}{% if from_my_pets %}{% if from_profile %}&{% endif %}from_my_pets=1{% endif %}" 
    hx-swap="outerHTML"
    hx-vals='{"variant": "list"}'
    aria-label="Toggle Favorite"
>
    {% if is_favorited %}
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-red-500 fill-current transform scale-110 transition-transform duration-300" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd" />
    </svg>
    {% else %}
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-400 group-hover:text-red-500 transition-colors duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
    </svg>
    {% endif %}
</button>
{% endif %}
{% endwith %}
