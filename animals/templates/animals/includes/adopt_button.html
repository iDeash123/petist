{% with button_variant=variant|default:"list" %}
{% if button_variant == 'primary' %}
<button
    class="flex-1 bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-8 rounded-xl shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-0.5 flex items-center justify-center gap-2"
    hx-post="{% url 'animals:toggle_adoption' animal.slug %}" 
    hx-swap="outerHTML"
    hx-vals='{"variant": "primary"}'>
    {% if is_adopted %}
    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
        <path d="M10 3.5a1.5 1.5 0 013 0V4a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-.5a1.5 1.5 0 000 3h.5a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-.5a1.5 1.5 0 00-3 0v.5a1 1 0 01-1 1H6a1 1 0 01-1-1v-3a1 1 0 00-1-1h-.5a1.5 1.5 0 010-3H4a1 1 0 001-1V6a1 1 0 011-1h3a1 1 0 001-1v-.5z" />
    </svg>
    Adopted!
    {% else %}
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10l-2 1m0 0l-2-1m2 1v2.5M20 7l-2 1m2-1l-2-1m2 1v2.5M14 4l-2-1-2 1M4 7l2-1M4 7l2 1M4 7v2.5M12 21l-2-1m2 1l2-1m-2 1v-2.5M6 18l-2-1v-2.5M18 18l2-1v-2.5" />
    </svg>
    Adopt {{ animal.name }}
    {% endif %}
</button>
{% elif button_variant == 'detail' %}
<button
    class="flex items-center space-x-2 hover:text-brand-600 dark:hover:text-brand-400 transition-colors"
    hx-post="{% url 'animals:toggle_adoption' animal.slug %}" 
    hx-swap="outerHTML"
    hx-vals='{"variant": "detail"}'
    aria-label="Toggle Adoption">
    {% if is_adopted %}
    <svg class="w-5 h-5 text-green-500 fill-current" viewBox="0 0 20 20" fill="currentColor">
        <path d="M10 3.5a1.5 1.5 0 013 0V4a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-.5a1.5 1.5 0 000 3h.5a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-.5a1.5 1.5 0 00-3 0v.5a1 1 0 01-1 1H6a1 1 0 01-1-1v-3a1 1 0 00-1-1h-.5a1.5 1.5 0 010-3H4a1 1 0 001-1V6a1 1 0 011-1h3a1 1 0 001-1v-.5z" />
    </svg>
    <span class="text-green-600 dark:text-green-400 font-medium">Adopted</span>
    {% else %}
    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10l-2 1m0 0l-2-1m2 1v2.5M20 7l-2 1m2-1l-2-1m2 1v2.5M14 4l-2-1-2 1M4 7l2-1M4 7l2 1M4 7v2.5M12 21l-2-1m2 1l2-1m-2 1v-2.5M6 18l-2-1v-2.5M18 18l2-1v-2.5" />
    </svg>
    <span>Adopt {{ animal.name }}</span>
    {% endif %}
</button>
{% else %}
<button 
    id="adopt-btn-{{ animal.id }}-{% if from_my_pets %}mypets{% else %}list{% endif %}"
    class="absolute top-3 left-3 p-2 rounded-full bg-white/80 backdrop-blur-sm hover:bg-white transition-all duration-300 group z-10"
    hx-post="{% url 'animals:toggle_adoption' animal.slug %}{% if from_profile %}?from_profile=1{% endif %}{% if from_my_pets %}{% if from_profile %}&{% endif %}from_my_pets=1{% endif %}" 
    hx-swap="outerHTML"
    hx-vals='{"variant": "list"}'
    aria-label="Toggle Adoption"
>
    {% if is_adopted %}
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-500 fill-current transform scale-110 transition-transform duration-300" viewBox="0 0 20 20" fill="currentColor">
        <path d="M10 3.5a1.5 1.5 0 013 0V4a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-.5a1.5 1.5 0 000 3h.5a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-.5a1.5 1.5 0 00-3 0v.5a1 1 0 01-1 1H6a1 1 0 01-1-1v-3a1 1 0 00-1-1h-.5a1.5 1.5 0 010-3H4a1 1 0 001-1V6a1 1 0 011-1h3a1 1 0 001-1v-.5z" />
    </svg>
    {% else %}
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-400 group-hover:text-green-500 transition-colors duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10l-2 1m0 0l-2-1m2 1v2.5M20 7l-2 1m2-1l-2-1m2 1v2.5M14 4l-2-1-2 1M4 7l2-1M4 7l2 1M4 7v2.5M12 21l-2-1m2 1l2-1m-2 1v-2.5M6 18l-2-1v-2.5M18 18l2-1v-2.5" />
    </svg>
    {% endif %}
</button>
{% endif %}
{% endwith %}
